{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/4th%20year/InnerGuide-Digital/lib/mongodb.ts"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/mental-health-app';\r\n\r\nif (!MONGODB_URI) {\r\n  throw new Error('Please define the MONGODB_URI environment variable');\r\n}\r\n\r\nlet cached = global.mongoose;\r\n\r\nif (!cached) {\r\n  cached = global.mongoose = { conn: null, promise: null };\r\n}\r\n\r\nexport async function connectToDatabase() {\r\n  if (cached.conn) {\r\n    return cached.conn;\r\n  }\r\n\r\n  if (!cached.promise) {\r\n    const opts = {\r\n      bufferCommands: false,\r\n    };\r\n\r\n    cached.promise = mongoose\r\n      .connect(MONGODB_URI, opts)\r\n      .then((mongoose) => {\r\n        return mongoose;\r\n      });\r\n  }\r\n\r\n  try {\r\n    cached.conn = await cached.promise;\r\n  } catch (e) {\r\n    cached.promise = null;\r\n    throw e;\r\n  }\r\n\r\n  return cached.conn;\r\n}\r\n\r\ndeclare global {\r\n  var mongoose: any;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;AAE/C;;AAIA,IAAI,SAAS,yDAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACX,SAAS,yDAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AACzD;AAEO,eAAe;IACpB,IAAI,OAAO,IAAI,EAAE;QACf,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,MAAM,OAAO;YACX,gBAAgB;QAClB;QAEA,OAAO,OAAO,GAAG,oHAAQ,CACtB,OAAO,CAAC,aAAa,MACrB,IAAI,CAAC,CAAC;YACL,OAAO;QACT;IACJ;IAEA,IAAI;QACF,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACpC,EAAE,OAAO,GAAG;QACV,OAAO,OAAO,GAAG;QACjB,MAAM;IACR;IAEA,OAAO,OAAO,IAAI;AACpB"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/4th%20year/InnerGuide-Digital/models/Counselor.ts"],"sourcesContent":["import mongoose, { Schema, Document } from 'mongoose';\r\n\r\nexport interface ICounselor extends Document {\r\n  userId: string;\r\n  specializations: string[];\r\n  qualifications: string;\r\n  availableDays: string[];\r\n  availableHours: {\r\n    start: string;\r\n    end: string;\r\n  };\r\n  consultationDuration: number;\r\n  consultationFee: number;\r\n  description: string;\r\n  rating: number;\r\n  totalSessions: number;\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n}\r\n\r\nconst counselorSchema = new Schema<ICounselor>(\r\n  {\r\n    userId: {\r\n      type: Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n    },\r\n    specializations: [String],\r\n    qualifications: String,\r\n    availableDays: [String],\r\n    availableHours: {\r\n      start: String,\r\n      end: String,\r\n    },\r\n    consultationDuration: { type: Number, default: 60 },\r\n    consultationFee: { type: Number, default: 0 },\r\n    description: String,\r\n    rating: { type: Number, default: 0 },\r\n    totalSessions: { type: Number, default: 0 },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport const Counselor = mongoose.models.Counselor || mongoose.model<ICounselor>('Counselor', counselorSchema);\r\n"],"names":[],"mappings":";;;;AAAA;;AAoBA,MAAM,kBAAkB,IAAI,mHAAM,CAChC;IACE,QAAQ;QACN,MAAM,mHAAM,CAAC,KAAK,CAAC,QAAQ;QAC3B,KAAK;QACL,UAAU;IACZ;IACA,iBAAiB;QAAC;KAAO;IACzB,gBAAgB;IAChB,eAAe;QAAC;KAAO;IACvB,gBAAgB;QACd,OAAO;QACP,KAAK;IACP;IACA,sBAAsB;QAAE,MAAM;QAAQ,SAAS;IAAG;IAClD,iBAAiB;QAAE,MAAM;QAAQ,SAAS;IAAE;IAC5C,aAAa;IACb,QAAQ;QAAE,MAAM;QAAQ,SAAS;IAAE;IACnC,eAAe;QAAE,MAAM;QAAQ,SAAS;IAAE;AAC5C,GACA;IAAE,YAAY;AAAK;AAGd,MAAM,YAAY,oHAAQ,CAAC,MAAM,CAAC,SAAS,IAAI,oHAAQ,CAAC,KAAK,CAAa,aAAa"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/4th%20year/InnerGuide-Digital/app/api/counselors/route.ts"],"sourcesContent":["import { connectToDatabase } from '@/lib/mongodb';\r\nimport { Counselor } from '@/models/Counselor';\r\nimport { User } from '@/models/User';\r\nimport { NextResponse } from 'next/server';\r\n\r\nexport async function GET(request: Request) {\r\n  try {\r\n    await connectToDatabase();\r\n\r\n    const { searchParams } = new URL(request.url);\r\n    const specialization = searchParams.get('specialization');\r\n\r\n    let query = {};\r\n    if (specialization) {\r\n      query = { specializations: specialization };\r\n    }\r\n\r\n    const counselors = await Counselor.find(query)\r\n      .populate('userId', 'name email phone bio')\r\n      .lean();\r\n\r\n    return NextResponse.json({ counselors }, { status: 200 });\r\n  } catch (error) {\r\n    console.error('Fetch counselors error:', error);\r\n    return NextResponse.json(\r\n      { error: 'Failed to fetch counselors' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    await connectToDatabase();\r\n    const body = await request.json();\r\n    const { userId, specializations, availableDays, availableHours, consultationDuration } = body;\r\n\r\n    if (!userId) {\r\n      return NextResponse.json(\r\n        { error: 'User ID required' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const counselor = new Counselor({\r\n      userId,\r\n      specializations,\r\n      availableDays,\r\n      availableHours,\r\n      consultationDuration,\r\n    });\r\n\r\n    await counselor.save();\r\n\r\n    return NextResponse.json(\r\n      { counselor },\r\n      { status: 201 }\r\n    );\r\n  } catch (error) {\r\n    console.error('Create counselor error:', error);\r\n    return NextResponse.json(\r\n      { error: 'Failed to create counselor profile' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAEA;;;;AAEO,eAAe,IAAI,OAAgB;IACxC,IAAI;QACF,MAAM,IAAA,qIAAiB;QAEvB,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,iBAAiB,aAAa,GAAG,CAAC;QAExC,IAAI,QAAQ,CAAC;QACb,IAAI,gBAAgB;YAClB,QAAQ;gBAAE,iBAAiB;YAAe;QAC5C;QAEA,MAAM,aAAa,MAAM,kIAAS,CAAC,IAAI,CAAC,OACrC,QAAQ,CAAC,UAAU,wBACnB,IAAI;QAEP,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAW,GAAG;YAAE,QAAQ;QAAI;IACzD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA6B,GACtC;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,IAAA,qIAAiB;QACvB,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE,aAAa,EAAE,cAAc,EAAE,oBAAoB,EAAE,GAAG;QAEzF,IAAI,CAAC,QAAQ;YACX,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAmB,GAC5B;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,YAAY,IAAI,kIAAS,CAAC;YAC9B;YACA;YACA;YACA;YACA;QACF;QAEA,MAAM,UAAU,IAAI;QAEpB,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE;QAAU,GACZ;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAqC,GAC9C;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}